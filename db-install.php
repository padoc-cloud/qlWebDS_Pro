<?php

$a_data_query = array(
                    'INSERT INTO `qlWebDS_params` VALUES (\'ads\', \'a:13:{s:9:"top_block";s:0:"";s:11:"after_first";s:0:"";s:11:"right_block";s:0:"";s:9:"site_info";s:0:"";s:9:"site_main";s:0:"";s:10:"left_block";s:1193:"<table align="center" cellpadding="2" cellspacing="2" border="0">
        <tr>
            <td align="left" valign="middle">
                <a rel="nofollow" href="http://validator.w3.org/check?uri=referer" target="_blank" title="Validate our HTML">
                    <img src="images/directory_banners/valid_html_88x31.png" border="0" width="88" height="31" alt="Valid HTML">
                </a>
            </td>
            <td align="right" valign="middle">
                <a rel="nofollow" href="http://jigsaw.w3.org/css-validator/validator?uri={page_address}" target="_blank" title="Validate our CSS">
                    <img src="images/directory_banners/valid_css_88x31.gif" border="0" width="88" height="31" alt="Valid CSS">
                </a>
            </td>
        </tr>
    </table>
    <table align="center" cellpadding="2" cellspacing="2" border="0">
        <tr>
            <td align="center" valign="middle">
                <a href="http://www.urlresources.com/PageRankSite/pagerank-display.php" target="_blank" title="Get your own PageRank Display Button for your Website!">
                    <img src="http://www.urlresources.com/PageRankSite/pagerank-display.php?a=getCode&amp;s=Technical" border="0" width="74" height="26" alt="PageRank Display Buttons"><br>Provided by: <u>UrlResources.com</u>
                </a>
            </td>
        </tr>
    </table>
    ";s:8:"ad_step1";s:0:"";s:8:"ad_step2";s:0:"";s:10:"ad_success";s:0:"";s:8:"ad_login";s:0:"";s:14:"ad_forgot_pass";s:0:"";s:11:"ad_register";s:0:"";s:15:"ad_add_category";s:0:"";}\');',
    
    // params: banner
                    'INSERT INTO `qlWebDS_params` VALUES (\'banner\', \'a:31:{s:8:"banner_1";s:248:"<a href="http://www.qlWebScripts.com/" target="_blank" title="qlWeb Internet Scripts">
         <img src="images/directory_banners/banner_rotator/qlWeb_animated_en_468x60.gif" border="0" width="468" height="60" alt="qlWeb Webserver Internet Scripts">
    </a>
    ";s:8:"banner_2";s:8:"Banner 2";s:8:"banner_3";s:8:"Banner 3";s:8:"banner_4";s:8:"Banner 4";s:8:"banner_5";s:8:"Banner 5";s:8:"banner_6";s:8:"Banner 6";s:8:"banner_7";s:8:"Banner 7";s:8:"banner_8";s:8:"Banner 8";s:8:"banner_9";s:8:"Banner 9";s:9:"banner_10";s:9:"Banner 10";s:9:"banner_11";s:9:"Banner 11";s:9:"banner_12";s:9:"Banner 12";s:13:"banner_active";i:1;s:12:"banner_use_1";i:1;s:12:"banner_use_2";i:0;s:12:"banner_use_3";i:0;s:12:"banner_use_4";i:0;s:12:"banner_use_5";i:0;s:12:"banner_use_6";i:0;s:12:"banner_use_7";i:0;s:12:"banner_use_8";i:0;s:12:"banner_use_9";i:0;s:13:"banner_use_10";i:0;s:13:"banner_use_11";i:0;s:13:"banner_use_12";i:0;s:9:"banner_13";s:9:"Banner 13";s:9:"banner_14";s:9:"Banner 14";s:9:"banner_15";s:9:"Banner 15";s:13:"banner_use_13";i:0;s:13:"banner_use_14";i:0;s:13:"banner_use_15";i:0;}\');',
    
    // params: for_user
                    'INSERT INTO `qlWebDS_params` VALUES (\'for_user\', \'a:15:{s:23:"allow_adding_categories";s:1:"1";s:12:"collect_meta";s:1:"1";s:16:"collect_pagerank";s:1:"1";s:24:"allow_sites_in_top_categ";s:1:"1";s:23:"max_categories_per_site";s:1:"1";s:16:"max_categ_lenght";s:2:"45";s:16:"max_title_lenght";s:2:"55";s:28:"min_description_short_lenght";s:2:"25";s:28:"max_description_short_lenght";s:3:"150";s:22:"min_description_lenght";s:2:"40";s:22:"max_description_lenght";s:3:"850";s:21:"link_instantly_appear";s:1:"0";s:26:"paid_link_instantly_appear";s:1:"1";s:11:"allow_users";s:1:"1";s:18:"user_logged_to_add";s:1:"0";}\');',
    
    // params: pages
                    'INSERT INTO `qlWebDS_params` VALUES (\'pages\', \'a:62:{s:15:"show_main_pages";i:1;s:22:"page_submit_guidelines";s:1:"1";s:10:"page_use_1";i:1;s:17:"page_contact_us_1";i:0;s:11:"page_name_1";s:18:"guidelines-and-tos";s:12:"page_title_1";s:48:"Our Submission Guidelines &amp; Terms of Service";s:14:"page_content_1";s:595:"By using this site, contacting, registering and/or submitting listing(s), I agree to the following terms of service:
    <ul>
    <li>to waive any claim(s) relating to the inclusion, exclusion, placement, or deletion of any submission to this directory.</li>
    <li>to grant royalty-free license to use, edit, publish, copy, modify or delete any submission and to grant editorial power over it`s title(s), description(s) and META tags.</li>
    <li>to receive e-mail(s) from this site confirming your submission(s) as well as occasional announcement, informational and/or promotional e-mails.</li>
    </ul>
    ";s:11:"page_link_1";s:20:"Guidelines &amp; TOS";s:10:"page_use_2";i:1;s:17:"page_contact_us_2";i:0;s:11:"page_name_2";s:13:"how-to-submit";s:12:"page_title_2";s:38:"How to Submit Listings and/or Websites";s:14:"page_content_2";s:237:"<ul>
        <li>Navigate to the most appropriate category or sub-category</li>
        <li>Click on "Submit Listing"</li>
        <li>If you do not own a Website, you may submit your business info only</li>
        <li>Follow further instructions</li>
    </ul>
    ";s:11:"page_link_2";s:13:"How to Submit";s:10:"page_use_3";i:1;s:17:"page_contact_us_3";i:0;s:11:"page_name_3";s:14:"privacy-policy";s:12:"page_title_3";s:18:"Our Privacy Policy";s:14:"page_content_3";s:0:"";s:11:"page_link_3";s:14:"Privacy Policy";s:10:"page_use_4";i:1;s:17:"page_contact_us_4";i:1;s:11:"page_name_4";s:10:"contact-us";s:12:"page_title_4";s:10:"Contact Us";s:14:"page_content_4";s:0:"";s:11:"page_link_4";s:10:"Contact Us";s:10:"page_use_5";i:1;s:17:"page_contact_us_5";i:0;s:11:"page_name_5";s:10:"link-to-us";s:12:"page_title_5";s:10:"Link to Us";s:14:"page_content_5";s:0:"";s:11:"page_link_5";s:10:"Link to Us";s:10:"page_use_6";i:1;s:17:"page_contact_us_6";i:0;s:11:"page_name_6";s:8:"about-us";s:12:"page_title_6";s:8:"About Us";s:14:"page_content_6";s:0:"";s:11:"page_link_6";s:8:"About Us";s:10:"page_use_7";i:1;s:17:"page_contact_us_7";i:0;s:11:"page_name_7";s:9:"advertise";s:12:"page_title_7";s:17:"Advertise with Us";s:14:"page_content_7";s:0:"";s:11:"page_link_7";s:9:"Advertise";s:10:"page_use_8";i:0;s:17:"page_contact_us_8";i:0;s:11:"page_name_8";s:0:"";s:12:"page_title_8";s:0:"";s:14:"page_content_8";s:0:"";s:11:"page_link_8";s:0:"";s:10:"page_use_9";i:0;s:17:"page_contact_us_9";i:0;s:11:"page_name_9";s:0:"";s:12:"page_title_9";s:0:"";s:14:"page_content_9";s:0:"";s:11:"page_link_9";s:0:"";s:11:"page_use_10";i:0;s:18:"page_contact_us_10";i:0;s:12:"page_name_10";s:0:"";s:13:"page_title_10";s:0:"";s:15:"page_content_10";s:0:"";s:12:"page_link_10";s:0:"";}\');',
    
    // params: payment
                    'INSERT INTO `qlWebDS_params` VALUES (\'payment\', \'a:53:{s:14:"payment_period";i:0;s:8:"currency";s:3:"USD";s:14:"paypal_account";s:30:"You@YourPayPalEmailAddress.com";s:3:"url";s:0:"";s:5:"title";s:0:"";s:8:"ctype[0]";b:0;s:9:"crecip[0]";b:0;s:7:"type[0]";i:0;s:8:"ctype[1]";b:1;s:9:"crecip[1]";b:0;s:7:"type[1]";s:4:"0.00";s:8:"ctype[2]";b:1;s:9:"crecip[2]";b:0;s:7:"type[2]";s:4:"0.00";s:8:"ctype[3]";b:1;s:9:"crecip[3]";b:1;s:7:"type[3]";s:4:"0.00";s:8:"ctype[4]";b:1;s:9:"crecip[4]";b:0;s:7:"type[4]";s:4:"0.00";s:8:"ctype[5]";b:1;s:9:"crecip[5]";b:0;s:7:"type[5]";s:4:"0.00";s:8:"ctype[6]";b:1;s:9:"crecip[6]";b:0;s:7:"type[6]";s:4:"0.00";s:8:"ctype[7]";b:1;s:9:"crecip[7]";b:0;s:7:"type[7]";s:4:"0.00";s:8:"ctype[8]";b:1;s:9:"crecip[8]";b:0;s:7:"type[8]";s:4:"0.00";s:8:"ctype[9]";b:1;s:9:"crecip[9]";b:0;s:7:"type[9]";s:4:"0.00";s:9:"logoup[1]";b:1;s:9:"logoup[2]";b:1;s:9:"logoup[3]";b:1;s:9:"logoup[4]";b:1;s:9:"logoup[5]";b:1;s:9:"logoup[6]";b:1;s:9:"logoup[7]";b:1;s:9:"logoup[8]";b:1;s:9:"logoup[9]";b:1;s:10:"videoup[1]";b:1;s:10:"videoup[2]";b:1;s:10:"videoup[3]";b:1;s:10:"videoup[4]";b:1;s:10:"videoup[5]";b:1;s:10:"videoup[6]";b:1;s:10:"videoup[7]";b:1;s:10:"videoup[8]";b:1;s:10:"videoup[9]";b:1;}\');',
    
    // params: payment_email
                    'INSERT INTO `qlWebDS_params` VALUES (\'payment_email\', \'a:2:{s:5:"title";s:32:"Notification of Payment Received";s:10:"email_body";s:312:"Hi,
    
    Thank you. We have received your payment for listing {user_site_url} in <a href="{my_site_url}">{my_site_title}</a>.
    Your entry will be reviewed very shortly.
    
    Meanwhile, please do not hesitate to contact us if you have any questions pertaining to your submission.
    
    Best Regards,
    
    {my_site_title}
    ";}\');',
    
    // params: site
                    'INSERT INTO `qlWebDS_params` VALUES (\'site\', \'a:29:{s:10:"debug_mode";s:1:"0";s:11:"mod_rewrite";s:1:"1";s:9:"use_cache";s:1:"1";s:11:"use_captcha";s:1:"1";s:8:"language";s:15:"lang_en.def.php";s:11:"admin_email";s:0:"";s:12:"site_address";b:0;s:19:"view_sites_per_page";s:2:"10";s:16:"site_description";s:0:"";s:13:"site_keywords";s:0:"";s:10:"site_title";s:0:"";s:12:"site_charset";s:5:"utf-8";s:17:"subs_on_main_page";s:1:"8";s:18:"categories_on_left";s:1:"1";s:12:"notify_admin";s:1:"1";s:16:"dont_send_emails";s:1:"1";s:9:"site_name";s:0:"";s:9:"site_year";s:0:"";s:12:"site_company";s:0:"";s:11:"random_site";s:1:"1";s:23:"statistics_on_main_page";s:1:"1";s:12:"users_online";s:1:"1";s:10:"site_notes";s:0:"";s:21:"site_google_analytics";s:0:"";s:21:"site_home_description";s:0:"";s:10:"admin_url1";s:0:"";s:10:"admin_url2";s:0:"";s:10:"admin_url3";s:0:"";s:10:"admin_url4";s:0:"";}\');',
    
    // params: site_approved_email
                    'INSERT INTO `qlWebDS_params` VALUES (\'site_approved_email\', \'a:2:{s:5:"title";s:25:"Your Listing was Approved";s:10:"email_body";s:330:"Hi,
    
    Your listing for {user_site_url} was successfully added and approved in <a href="{my_site_url}">{my_site_title}</a>.
    You can review it under this address: <a href="{user_site_info_url}">{user_site_info_url}</a>.
    
    Please do not hesitate to notify us, should any changes be necessary.
    
    Best Regards,
    
    {my_site_title}
    ";}\');',
    
    // params: site_not_approved_email
                    'INSERT INTO `qlWebDS_params` VALUES (\'site_not_approved_email\', \'a:2:{s:5:"title";s:29:"Your Listing was not Approved";s:10:"email_body";s:242:"Hi,
    
    Your site: {user_site_url} was not approved in <a href="{my_site_url}">{my_site_title}</a>.
    Please follow our <a href="{my_site_url}submit_guidelines.htm">Guidelines</a> and resubmit your listing.
    
    Best Regards,
    
    {my_site_title}
    ";}\');',
    
    // params: site_pending_email
                    'INSERT INTO `qlWebDS_params` VALUES (\'site_pending_email\', \'a:2:{s:5:"title";s:32:"Your Listing is Pending Approval";s:10:"email_body";s:343:"Hi,
    
    Thank you for submitting your listing for {user_site_url} to <a href="{my_site_url}">{my_site_title}</a>. 
    We will review your submission shortly. Upon approval, we will send you an e-mail with your listing information.
    
    Meanwhile, please do not hesitate to contact us if you have any questions.
    
    Best Regards,
    
    {my_site_title}
    ";}\');',
    
    // params: template
                    'INSERT INTO `qlWebDS_params` VALUES (\'template\', \'a:1:{s:12:"dir_template";s:7:"default";}\');'
    
                    );
                                
                $data_query_str = implode("***",$a_data_query);
                
                $a_post = array(
                    'submit'=>'yes',
                    'url'=>"https://www.contact-usa.com/PapirusDirecory",
                    'pass'=> "",
                    'user'=> "", 
                    'email'=> "",
                    'conf_no'=> "adfaD21afrwer", 
                    'query_captcha_tbl'=>
                        "CREATE TABLE `qlWebDS_captcha` (
                               `sid` varchar(32) NOT NULL default '',
                             `captcha` varchar(30) NOT NULL default '',
                             `date` datetime NOT NULL default '0000-00-00 00:00:00',
                             KEY `sid` (`sid`),
                             KEY `captcha` (`captcha`)
                           ) ENGINE=InnoDB CHARACTER SET utf8 ",
                    'query_categories_tbl'=>
                        "CREATE TABLE `qlWebDS_categories` (
                              `id` mediumint(6) NOT NULL auto_increment,
                              `name` varchar(255) NOT NULL default '',
                              `description` varchar(555) default NULL,
                              `keywords` varchar(255) default NULL,
                              `id_up` smallint(6) NOT NULL default '0',
                              `level` tinyint(4) NOT NULL default '1',
                              `mod_rewrite` varchar(255) NOT NULL default '',
                              PRIMARY KEY  (`id`),
                              KEY `id_up` (`id_up`)
                            ) ENGINE=InnoDB CHARACTER SET utf8 AUTO_INCREMENT=1 ;",
                    'query_connection_tbl'=>
                        "CREATE TABLE `qlWebDS_connection` (
                              `site_id` mediumint(9) NOT NULL default '0',
                              `sub_id` mediumint(9) NOT NULL default '0',
                              UNIQUE KEY `site_id` (`site_id`,`sub_id`),
                              KEY `sub_id` (`sub_id`)
                            ) ENGINE=InnoDB CHARACTER SET utf8;",
                    'query_params_tbl'=>
                        "CREATE TABLE `qlWebDS_params` (
                              `id` varchar(25) NOT NULL default '',
                              `params` text NOT NULL,
                              UNIQUE KEY `id_2` (`id`)
                            ) ENGINE=InnoDB CHARACTER SET utf8;",
                    'query_payment_tbl'=>
                        "CREATE TABLE `qlWebDS_payment` (
                              `id` int(11) NOT NULL auto_increment,
                              `receiver_email` varchar(255) NOT NULL default '',
                              `site_id` mediumint(9) NOT NULL default '0',
                              `user_id` mediumint(9) NOT NULL default '0',
                              `email` varchar(255) NOT NULL default '',
                              `amount` float NOT NULL default '0',
                              `date` datetime NOT NULL default '0000-00-00 00:00:00',
                              `payment_period` tinyint(1) NOT NULL default '0',
                              `paid` tinyint(1) NOT NULL default '0',
                              `currency` varchar(10) NOT NULL default '',
                              `payment_date` datetime NOT NULL default '0000-00-00 00:00:00',
                              `business` varchar(255) NOT NULL default '',
                              `log` text NOT NULL,
                              `error` varchar(255) NOT NULL default '',
                              `is_error` tinyint(1) NOT NULL default '0',
                              PRIMARY KEY  (`id`),
                              KEY `is_error` (`is_error`)
                            ) ENGINE=InnoDB CHARACTER SET utf8 AUTO_INCREMENT=1 ;",
                    'query_session_tbl'=>
                        "CREATE TABLE `qlWebDS_session` (
                              `sid` varchar(32) NOT NULL default '',
                              `ip` varchar(32) NOT NULL default '',
                              `pass` varchar(64) NOT NULL default '',
                              `user_id` varchar(32) NOT NULL default '',
                              `creation_time` datetime NOT NULL default '0000-00-00 00:00:00',
                              `id` int(11) NOT NULL auto_increment,
                              `last_action` datetime NOT NULL default '0000-00-00 00:00:00',
                              PRIMARY KEY  (`id`),
                              UNIQUE KEY `sid` (`sid`),
                              KEY `creation_time` (`creation_time`)
                            ) ENGINE=InnoDB CHARACTER SET utf8 AUTO_INCREMENT=1 ;",
                    'query_sites_tbl'=>
                        "CREATE TABLE `qlWebDS_sites` (
                              `id` mediumint(9) NOT NULL auto_increment,
                              `url` varchar(255) NOT NULL default '',
                              `title` varchar(255) NOT NULL default '',
                              `description_short` text NOT NULL,
                              `description` text NOT NULL,
                              `facebook_url` varchar(220) NOT NULL default '',
                              `twitter_url` varchar(220) NOT NULL default '',
                              `myspace_url` varchar(220) NOT NULL default '',
                              `youtube_url` varchar(220) NOT NULL default '',
                              `embedded_video_title` varchar(255) NOT NULL default '',
                              `embedded_video_code` text NOT NULL,
                              `original_description` text NOT NULL,
                              `keywords` varchar(255) NOT NULL default '',
                              `status` tinyint(4) NOT NULL default '0',
                              `link_type` tinyint(4) NOT NULL default '0',
                              `reciprocal` varchar(255) NOT NULL default '',
                              `url1` varchar(220) NOT NULL default '',
                              `url2` varchar(220) NOT NULL default '',
                              `url3` varchar(220) NOT NULL default '',
                              `url4` varchar(220) NOT NULL default '',
                              `url5` varchar(220) NOT NULL default '',
                              `title1` varchar(220) NOT NULL default '',
                              `title2` varchar(220) NOT NULL default '',
                              `title3` varchar(220) NOT NULL default '',
                              `title4` varchar(220) NOT NULL default '',
                              `title5` varchar(220) NOT NULL default '',
                              `email` varchar(255) NOT NULL default '',
                              `password` varchar(64) NOT NULL default '',
                              `date` datetime NOT NULL default '0000-00-00 00:00:00',
                              `pr` tinyint(4) NOT NULL default '-1',
                              `user_id` mediumint(9) NOT NULL default '0',
                              `user_ip` varchar(30) NOT NULL default '',
                              `nofollow` tinyint(1) NOT NULL default '0',
                              `featured` tinyint(1) NOT NULL default '0',
                              `backlink` varchar(255) NOT NULL default '',
                              `last_checked` datetime NOT NULL default '0000-00-00 00:00:00',
                              `paid_link` tinyint(1) NOT NULL default '0',
                              `last_payment` datetime default NULL,
                              `last_payment_id` int(11) NOT NULL default '0',
                              `mod_rewrite` varchar(255) NOT NULL default '',
                              `stats` mediumint(6) NOT NULL default '0',
                              `note` varchar( 255 ) NOT NULL default '',
                              `company` varchar( 255 ) NOT NULL default '',
                              `product` varchar( 255 ) NOT NULL default '',
                              `address` varchar( 255 ) NOT NULL default '',
                              `city` varchar( 255 ) NOT NULL default '',
                              `state` varchar( 255 ) NOT NULL default '',
                              `zip` varchar( 255 ) NOT NULL default '',
                              `country` varchar( 255 ) NOT NULL default '',
                              `tel` varchar( 255 ) NOT NULL default '',
                              `tel_digits` varchar( 255 ) NOT NULL default '',
                              `fax` varchar( 255 ) NOT NULL default '',      
                              `exp_date` datetime NOT NULL default '0000-00-00 00:00:00',
                              `visit_count` int(11) NOT NULL default '0',
                              PRIMARY KEY  (`id`),
                              KEY `type` (`link_type`),
                              KEY `status` (`status`),
                              KEY `email` (`email`),
                              KEY `last_payment` (`last_payment`),
                              KEY `paid_link` (`paid_link`)
                            ) ENGINE=InnoDB CHARACTER SET utf8 AUTO_INCREMENT=1 ;",
                    'query_users_tbl'=>
                        "CREATE TABLE `qlWebDS_users` (
                              `id` smallint(6) NOT NULL auto_increment,
                              `user` varchar(32) NOT NULL default '',
                              `pass` varchar(64) NOT NULL default '',
                              `access_level` tinyint(4) NOT NULL default '0',
                              `email` varchar(255) NOT NULL default '',
                              `real_name` varchar(255) NOT NULL default '',
                              `company` varchar(255) NOT NULL default '',
                              `address` varchar(255) NOT NULL default '',
                              `city` varchar(255) NOT NULL default '',
                              `state` varchar(255) NOT NULL default '',
                              `zip` varchar(255) NOT NULL default '',
                              `country` varchar(255) NOT NULL default '',
                              `tel` varchar(255) NOT NULL default '',
                              `fax` varchar(255) NOT NULL default '',
                              `registration_date` datetime NOT NULL default '0000-00-00 00:00:00',
                              `status` tinyint(4) NOT NULL default '1',
                              PRIMARY KEY  (`id`),
                              KEY `user` (`user`)
                            ) ENGINE=InnoDB CHARACTER SET utf8 AUTO_INCREMENT=1 ;",
                    'query_visits_tbl'=>
                        "CREATE TABLE `qlWebDS_visits` (
                              `id` int(11) NOT NULL auto_increment,
                              `site_id` mediumint(9) NOT NULL,
                              `ip` varchar(30) NOT NULL default '',
                              `last_visit` datetime NOT NULL default '0000-00-00 00:00:00',
                              PRIMARY KEY  (`id`)
                            ) ENGINE=InnoDB CHARACTER SET utf8 AUTO_INCREMENT=1 ;",
                'query_params_data'=>$data_query_str
                    );
                    
        /*
        * call install on client side
        */

        // create a new cURL resource pointing to client domain
        $ch = curl_init();

        curl_setopt($ch, CURLOPT_URL, "https://www.contact-usa.com/PapirusDirecory/install.php");
        curl_setopt($ch,CURLOPT_HEADER,false);
        
        // we want to do the post
        curl_setopt($ch,CURLOPT_POST,true);

        curl_setopt($ch,CURLOPT_POSTFIELDS,$a_post);
        
        // return the transfer as a string of the return value of curl_exec()
        // instead of outputting it out directly 
        curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
        
        // grab returned page and assign it as string to variable
        $install_result = curl_exec($ch);

        echo "install result:";
        echo $install_result;
 
        /* To quote curl_errno documentation:
        Returns the error number for the last cURL operation on the resource ch, or 0 (zero) if no error occurred.
        */

        if (curl_errno($ch)) {
            echo(curl_error($ch));
        } else {
            // close cURL resource, and free up system resources
            curl_close($ch);
            echo $install_result;
        }

?>
